{"ast":null,"code":"import _defineProperty from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Modal,Button}from\"react-bootstrap\";import React from\"react\";import ReactDOM from'react-dom';import\"../static/popup.css\";import axios from'axios';import{ThemeConsumer}from\"react-bootstrap/esm/ThemeProvider\";var Popup=/*#__PURE__*/function(_React$Component){_inherits(Popup,_React$Component);var _super=_createSuper(Popup);function Popup(props){var _this;_classCallCheck(this,Popup);_this=_super.call(this,props);_this.submitForm=function(event){event.preventDefault();if(_this.state.emailValid){alert(_this.state.useremail);// post to database\n// axios.post('/addemail', this.state.useremail)\n//     .then((res) => {\n//         console.log(res.data)\n//     }).catch((error) => {\n//         console.log(error)\n//     });\n_this.setState({useremail:''});}else{alert(\"email is invalid!\");}};_this.setUserEmail=function(event){var name=event.target.name;var value=event.target.value;// this.setState({[nam]: val});\n_this.setState(_defineProperty({},name,value),function(){_this.validateField(name,value);});};_this.state={show:true,useremail:'',emailError:'',emailValid:false,apiResponse:\"\"};_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleShow=_this.handleShow.bind(_assertThisInitialized(_this));return _this;}_createClass(Popup,[{key:\"handleClose\",value:function handleClose(){this.setState({show:false});}},{key:\"handleShow\",value:function handleShow(){this.setState({show:true});}},{key:\"validateField\",value:function validateField(fieldName,value){var fieldValidationErrors=this.state.emailError;var emailValid=this.state.emailValid;emailValid=value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);fieldValidationErrors=emailValid?'':' is invalid';this.setState({emailError:fieldValidationErrors,emailValid:emailValid});}},{key:\"callAPI\",// fetch API \nvalue:function callAPI(){var _this2=this;fetch(\"http://localhost:9000/testAPI\").then(function(res){return res.text();}).then(function(res){return _this2.setState({apiResponse:res});});}},{key:\"componentWillMount\",value:function componentWillMount(){this.callAPI();}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Modal,{show:this.state.show,onHide:this.handleClose},/*#__PURE__*/React.createElement(\"div\",{id:\"popup\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(\"h3\",null,\"Sign up with us for 10% off your next purchase!\")),/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"form\",{method:\"post\",action:\"/\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"useremail\",placeholder:\"Enter your email...\",required:true}),/*#__PURE__*/React.createElement(\"input\",{type:\"submit\",value:\"Sign up\",style:{marginLeft:\"15px\"},onClick:this.handleClose}))))));}}]);return Popup;}(React.Component);ReactDOM.render(/*#__PURE__*/React.createElement(Popup,null),document.getElementById('root'));export default Popup;","map":{"version":3,"sources":["/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/src/components/popup.jsx"],"names":["Modal","Button","React","ReactDOM","axios","ThemeConsumer","Popup","props","submitForm","event","preventDefault","state","emailValid","alert","useremail","setState","setUserEmail","name","target","value","validateField","show","emailError","apiResponse","handleClose","bind","handleShow","fieldName","fieldValidationErrors","match","fetch","then","res","text","callAPI","marginLeft","Component","render","document","getElementById"],"mappings":"8oCAAA,OAASA,KAAT,CAAgBC,MAAhB,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,WAArB,CACA,MAAO,qBAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,aAAT,KAA8B,mCAA9B,C,GAEMC,CAAAA,K,0GACF,eAAYC,KAAZ,CAAmB,uCACf,uBAAMA,KAAN,EADe,MAsBnBC,UAtBmB,CAsBN,SAACC,KAAD,CAAW,CACpBA,KAAK,CAACC,cAAN,GACA,GAAG,MAAKC,KAAL,CAAWC,UAAd,CAAyB,CACrBC,KAAK,CAAC,MAAKF,KAAL,CAAWG,SAAZ,CAAL,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,MAAKC,QAAL,CAAc,CAACD,SAAS,CAAC,EAAX,CAAd,EACH,CAXD,IAWK,CACDD,KAAK,CAAC,mBAAD,CAAL,CACH,CACJ,CAtCkB,OAgDnBG,YAhDmB,CAgDJ,SAACP,KAAD,CAAW,CACtB,GAAIQ,CAAAA,IAAI,CAAGR,KAAK,CAACS,MAAN,CAAaD,IAAxB,CACA,GAAIE,CAAAA,KAAK,CAAGV,KAAK,CAACS,MAAN,CAAaC,KAAzB,CACA;AACA,MAAKJ,QAAL,oBAAgBE,IAAhB,CAAuBE,KAAvB,EACI,UAAM,CAAE,MAAKC,aAAL,CAAmBH,IAAnB,CAAyBE,KAAzB,EAAgC,CAD5C,EAEH,CAtDkB,CAEf,MAAKR,KAAL,CAAa,CACTU,IAAI,CAAE,IADG,CAETP,SAAS,CAAE,EAFF,CAGTQ,UAAU,CAAE,EAHH,CAITV,UAAU,CAAE,KAJH,CAKTW,WAAW,CAAE,EALJ,CAAb,CAQA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBC,IAAjB,+BAAnB,CACA,MAAKC,UAAL,CAAkB,MAAKA,UAAL,CAAgBD,IAAhB,+BAAlB,CAXe,aAYlB,C,mEAEa,CACV,KAAKV,QAAL,CAAc,CAAEM,IAAI,CAAE,KAAR,CAAd,EACH,C,+CAEY,CACT,KAAKN,QAAL,CAAc,CAAEM,IAAI,CAAE,IAAR,CAAd,EACH,C,oDAoBaM,S,CAAWR,K,CAAO,CAC5B,GAAIS,CAAAA,qBAAqB,CAAG,KAAKjB,KAAL,CAAWW,UAAvC,CACA,GAAIV,CAAAA,UAAU,CAAG,KAAKD,KAAL,CAAWC,UAA5B,CACAA,UAAU,CAAGO,KAAK,CAACU,KAAN,CAAY,sCAAZ,CAAb,CACAD,qBAAqB,CAAGhB,UAAU,CAAG,EAAH,CAAQ,aAA1C,CACA,KAAKG,QAAL,CAAc,CAACO,UAAU,CAAEM,qBAAb,CAAoChB,UAAU,CAAEA,UAAhD,CAAd,EACH,C,iBAUD;wBACU,iBACNkB,KAAK,CAAC,+BAAD,CAAL,CACKC,IADL,CACU,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADb,EAEKF,IAFL,CAEU,SAAAC,GAAG,QAAI,CAAA,MAAI,CAACjB,QAAL,CAAc,CAAEQ,WAAW,CAAES,GAAf,CAAd,CAAJ,EAFb,EAGH,C,+DAEoB,CACjB,KAAKE,OAAL,GACH,C,uCAEQ,CACL,mBACI,4CACI,oBAAC,KAAD,EAAO,IAAI,CAAE,KAAKvB,KAAL,CAAWU,IAAxB,CAA8B,MAAM,CAAE,KAAKG,WAA3C,eACI,2BAAK,EAAE,CAAC,OAAR,eACA,oBAAC,KAAD,CAAO,MAAP,EAAc,WAAW,KAAzB,eACI,gFADJ,CADA,cAIA,oBAAC,KAAD,CAAO,IAAP,mBACI,4BAAM,MAAM,CAAC,MAAb,CAAoB,MAAM,CAAC,GAA3B,eACI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,IAAI,CAAC,WAAxB,CAAoC,WAAW,CAAC,qBAAhD,CAAsE,QAAQ,KAA9E,EADJ,cAEI,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,SAA3B,CAAqC,KAAK,CAAE,CAACW,UAAU,CAAE,MAAb,CAA5C,CAAkE,OAAO,CAAE,KAAKX,WAAhF,EAFJ,CADJ,CAJA,CADJ,CADJ,CADJ,CAiBH,C,mBAtFetB,KAAK,CAACkC,S,EAyF1BjC,QAAQ,CAACkC,MAAT,cAAgB,oBAAC,KAAD,MAAhB,CAA2BC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAA3B,EACA,cAAejC,CAAAA,KAAf","sourcesContent":["import { Modal, Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport \"../static/popup.css\";\nimport axios from 'axios';\nimport { ThemeConsumer } from \"react-bootstrap/esm/ThemeProvider\";\n\nclass Popup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: true,\n            useremail: '',\n            emailError: '',\n            emailValid: false,\n            apiResponse: \"\"\n        };\n        \n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n    }\n    \n    handleClose (){\n        this.setState({ show: false });\n    };\n    \n    handleShow (){\n        this.setState({ show: true });\n    };\n    \n    submitForm = (event) => {\n        event.preventDefault();\n        if(this.state.emailValid){\n            alert(this.state.useremail);\n            // post to database\n            // axios.post('/addemail', this.state.useremail)\n            //     .then((res) => {\n            //         console.log(res.data)\n            //     }).catch((error) => {\n            //         console.log(error)\n            //     });\n            \n            this.setState({useremail:''})\n        }else{\n            alert(\"email is invalid!\");\n        }\n    }\n\n    validateField(fieldName, value) {\n        let fieldValidationErrors = this.state.emailError;\n        let emailValid = this.state.emailValid;\n        emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n        fieldValidationErrors = emailValid ? '' : ' is invalid';\n        this.setState({emailError: fieldValidationErrors, emailValid: emailValid});\n    }\n\n    setUserEmail = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        // this.setState({[nam]: val});\n        this.setState({[name]: value}, \n            () => { this.validateField(name, value)});\n    }\n\n    // fetch API \n    callAPI() {\n        fetch(\"http://localhost:9000/testAPI\")\n            .then(res => res.text())\n            .then(res => this.setState({ apiResponse: res }));\n    }\n\n    componentWillMount() {\n        this.callAPI();\n    }\n\n    render() {\n        return(\n            <div>\n                <Modal show={this.state.show} onHide={this.handleClose}>\n                    <div id=\"popup\">\n                    <Modal.Header closeButton>\n                        <h3>Sign up with us for 10% off your next purchase!</h3>\n                    </Modal.Header>\n                    <Modal.Body>\n                        <form method=\"post\" action=\"/\">\n                            <input type=\"text\" name=\"useremail\" placeholder=\"Enter your email...\" required/>\n                            <input type=\"submit\" value=\"Sign up\" style={{marginLeft: \"15px\"}} onClick={this.handleClose}/>\n                        </form>\n                    </Modal.Body>\n                    </div>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<Popup />, document.getElementById('root'));\nexport default Popup;"]},"metadata":{},"sourceType":"module"}