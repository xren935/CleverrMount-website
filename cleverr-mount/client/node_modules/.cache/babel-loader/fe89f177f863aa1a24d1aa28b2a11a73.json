{"ast":null,"code":"import _defineProperty from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import{Modal,Button}from\"react-bootstrap\";import React from\"react\";import ReactDOM from'react-dom';import\"../static/popup.css\";import axios from'axios';var Popup=/*#__PURE__*/function(_React$Component){_inherits(Popup,_React$Component);var _super=_createSuper(Popup);function Popup(props){var _this;_classCallCheck(this,Popup);_this=_super.call(this,props);_this.submitForm=function(event){event.preventDefault();if(_this.state.emailValid){alert(_this.state.useremail);// post to database\naxios.post('http://localhost:4000/users/create',_this.state.useremail).then(function(res){console.log(res.data);}).catch(function(error){console.log(error);});_this.setState({useremail:''});}else{alert(\"email is invalid!\");}};_this.setUserEmail=function(event){var name=event.target.name;var value=event.target.value;// this.setState({[nam]: val});\n_this.setState(_defineProperty({},name,value),function(){_this.validateField(name,value);});};_this.state={show:true,useremail:'',emailError:'',emailValid:false};_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleShow=_this.handleShow.bind(_assertThisInitialized(_this));return _this;}_createClass(Popup,[{key:\"handleClose\",value:function handleClose(){this.setState({show:false});}},{key:\"handleShow\",value:function handleShow(){this.setState({show:true});}},{key:\"validateField\",value:function validateField(fieldName,value){var fieldValidationErrors=this.state.emailError;var emailValid=this.state.emailValid;emailValid=value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);fieldValidationErrors=emailValid?'':' is invalid';this.setState({emailError:fieldValidationErrors,emailValid:emailValid});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Modal,{show:this.state.show,onHide:this.handleClose},/*#__PURE__*/React.createElement(\"div\",{id:\"popup\"},/*#__PURE__*/React.createElement(Modal.Header,{closeButton:true},/*#__PURE__*/React.createElement(Modal.Title,null,\"Enter your email to get 10% off!\")),/*#__PURE__*/React.createElement(\"form\",{method:\"post\",action:\"/addemail\"},/*#__PURE__*/React.createElement(Modal.Body,null,/*#__PURE__*/React.createElement(\"label\",null,\"Your Email:\",/*#__PURE__*/React.createElement(\"input\",{id:\"email-inputbox\",type:\"text\",name:\"useremail\",onChange:this.setUserEmail})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{id:\"submit-btn\",type:\"submit\",value:\"Get 10% Off\",onClick:this.submitForm}))))));}}]);return Popup;}(React.Component);ReactDOM.render(/*#__PURE__*/React.createElement(Popup,null),document.getElementById('root'));export default Popup;","map":{"version":3,"sources":["/Users/annieren/Documents/GitHub/cleverr-mount-website/cleverr-mount/client/src/components/popup.jsx"],"names":["Modal","Button","React","ReactDOM","axios","Popup","props","submitForm","event","preventDefault","state","emailValid","alert","useremail","post","then","res","console","log","data","catch","error","setState","setUserEmail","name","target","value","validateField","show","emailError","handleClose","bind","handleShow","fieldName","fieldValidationErrors","match","Component","render","document","getElementById"],"mappings":"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","sourcesContent":["import { Modal, Button } from \"react-bootstrap\";\nimport React from \"react\";\nimport ReactDOM from 'react-dom';\nimport \"../static/popup.css\";\nimport axios from 'axios';\n\nclass Popup extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: true,\n            useremail: '',\n            emailError: '',\n            emailValid: false\n        };\n        \n        this.handleClose = this.handleClose.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n    }\n    \n    handleClose (){\n        this.setState({ show: false });\n    };\n    \n    handleShow (){\n        this.setState({ show: true });\n    };\n    \n    submitForm = (event) => {\n        event.preventDefault();\n        if(this.state.emailValid){\n            alert(this.state.useremail);\n            // post to database\n            axios.post('http://localhost:4000/users/create', this.state.useremail)\n                .then((res) => {\n                    console.log(res.data)\n                }).catch((error) => {\n                    console.log(error)\n                });\n            this.setState({useremail:''})\n        }else{\n            alert(\"email is invalid!\");\n        }\n    }\n\n    validateField(fieldName, value) {\n        let fieldValidationErrors = this.state.emailError;\n        let emailValid = this.state.emailValid;\n        emailValid = value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,})$/i);\n        fieldValidationErrors = emailValid ? '' : ' is invalid';\n        this.setState({emailError: fieldValidationErrors, emailValid: emailValid});\n    }\n\n    setUserEmail = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        // this.setState({[nam]: val});\n        this.setState({[name]: value}, \n            () => { this.validateField(name, value)});\n    }\n\n    render() {\n        return(\n            <div>\n                {/* <Button variant=\"primary\" onClick={this.handleShow}>Launch modal</Button> */}\n                <Modal show={this.state.show} onHide={this.handleClose}>\n                    <div id=\"popup\">\n                    <Modal.Header closeButton>\n                        <Modal.Title>Enter your email to get 10% off!</Modal.Title>\n                    </Modal.Header>\n                    <form method=\"post\" action=\"/addemail\">\n                    <Modal.Body>\n                        <label>\n                            Your Email: \n                            <input id=\"email-inputbox\" type=\"text\" name=\"useremail\" onChange={this.setUserEmail}/>\n                        </label>\n                        <br></br>\n                        <input id=\"submit-btn\" type=\"submit\" value=\"Get 10% Off\" onClick={this.submitForm}/>\n                    </Modal.Body>\n                    </form>\n                    </div>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nReactDOM.render(<Popup />, document.getElementById('root'));\nexport default Popup;"]},"metadata":{},"sourceType":"module"}